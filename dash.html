<html>
<head>
    <script type="text/javascript" src="js/jquery-2.2.3.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
</head>
<body>

<!--Nav bar-->
 <div id="navDivision">Memory Game</div>
<!--Nav bar ends-->

<div id="outer" style="width:100%">
    <div id="tileRoot">

        <div class="tile" id="t0" onclick="tileclicked(this)" style="background-color:red"></div>
        <div class="tile" id="t1" onclick="tileclicked(this)" style="background-color:#26A69A"></div>
        <div class="tile" id="t2" onclick="tileclicked(this)" style="background-color:brown"></div>
        <br>
        <br>
        <br>
        <br>
        <br>
        <div class="tile" id="t3" onclick="tileclicked(this)" style="background-color:#2E7D32"></div>
        <div class="tile" id="t4" onclick="tileclicked(this)" style="background-color:#EC407A"></div>
        <div class="tile" id="t5" onclick="tileclicked(this)" style="background-color:#FB8C00"></div>
        <br>
        <br>
        <br>
        <br>
        <br>
        <div class="tile" id="t6" onclick="tileclicked(this)" style="background-color:#FFC400"></div>
        <div class="tile" id="t7" onclick="tileclicked(this)" style="background-color:darkblue"></div>
        <div class="tile" id="t8" onclick="tileclicked(this)" style="background-color:#D500F9"></div>

    </div>
</div>
</body>
<style>
body{
  background-color: #00BCD4;
}
#navDivision{
width: 100% !important;
height: 50px;
background-color:#778899;
/*
padding-top: 10px;
padding-left: 60px;*/
font-family: 'Pacifico', cursive;
font-size: 30px;
margin:0 auto;
}
  #tileRoot{
    margin:0 auto;
    width:20%;
    margin-top: 150px;
  }
  .tile{
        height: 80px;
        width:80px;
        margin:3px;
        float : left;
    }

    .red {
        box-shadow: inset 0 0 0 1000px rgba(0,0,0,.9);
    }
</style>
<script>
//alert(getCookie("User"));
validate();
var uname = getCookie("User");
var pass = "sp"
var ans = new Array();
var c = 0;
var Cans;
$.post("/seq",{uname:uname},function(result){
        //alert(result);
        seq(result);
});
function seq(a){
    c = 0;
    var s = JSON.parse(a);
    console.log(s);
    Cans = s;
    showTile();
    /*for ( i in s ){
        $("#t"+s[i]).addClass("red");
    }*/
}
function tileclicked(a){
    var id = a.getAttribute("id");
    $("#"+id).addClass("red");
    //alert(id.charAt(1));
    ans.push(Number(id.charAt(1)));
    console.log(ans)
}
function done(){
    flag = true;
    $(".tile").removeClass("red");
    if (ans.length == Cans.length){
        for( i in ans){
            if(ans[i] != Cans[i]){
                flag = false;
            }
        }
    }else{
        flag = false;
    }
    if (flag){
        ans = [];
        $.post("/sus",{uname:uname,level:Cans.length},function(result){
                Cans = [];
                seq(result);
        });
        alert("s");
    }else{
        alert("wrong");
    }
}

function showTile(){
    if (c < Cans.length){
        $(".tile").removeClass("red");
        $("#t"+Cans[c]).addClass("red");
        c = c + 1;
        setTimeout(showTile, 500);
    }else{
        $(".tile").removeClass("red");
    }
}
</script>
</html>
